var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){(null!=e||t.value)&&(t.value=e)}function h(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function v(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let b;function y(t){b=t}function x(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const w=[],_=[],E=[],k=[],S=Promise.resolve();let I=!1;function L(t){E.push(t)}const N=new Set;function j(){do{for(;w.length;){const t=w.shift();y(t),A(t.$$)}for(;_.length;)_.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];N.has(e)||(N.add(e),e())}E.length=0}while(w.length);for(;k.length;)k.pop()();I=!1,N.clear()}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const C=new Set;function O(t,e){t&&t.i&&(C.delete(t),t.i(e))}function R(t,e,n,o){if(t&&t.o){if(C.has(t))return;C.add(t),(void 0).c.push(()=>{C.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function B(t){t&&t.c()}function F(t,n,c){const{fragment:a,on_mount:s,on_destroy:l,after_update:i}=t.$$;a&&a.m(n,c),L(()=>{const n=s.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(L)}function T(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(w.push(t),I||(I=!0,S.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,r,c,a,s,l,i=[-1]){const u=b;y(e);const f=r.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:i};let m=!1;d.ctx=c?c(e,f,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),m&&U(e,t)),n}):[],d.update(),m=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),r.target&&(r.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):d.fragment&&d.fragment.c(),r.intro&&O(e.$$.fragment),F(e,r.target,r.anchor),j()),y(u)}class D{$destroy(){T(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function P(t){let e,n,o,r,c,a,$,v;const b=t[5].default,y=function(t,e,n,o){if(t){const r=s(t,e,n,o);return t[0](r)}}(b,t,t[4],null);return{c(){e=f("div"),n=f("i"),o=m(),r=f("span"),c=d(t[0]),a=m(),y&&y.c(),p(n,"class",t[3]),h(r,"padding","0px 0px 0px 5px"),h(r,"top","auto"),h(r,"bottom","auto"),p(e,"class",t[2])},m(s,u){i(s,e,u),l(e,n),l(e,o),l(e,r),l(r,c),l(e,a),y&&y.m(e,null),$=!0,v=g(e,"click",t[1])},p(t,[o]){(!$||8&o)&&p(n,"class",t[3]),(!$||1&o)&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(c,t[0]),y&&y.p&&16&o&&y.p(s(b,t,t[4],null),function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(b,t[4],o,null)),(!$||4&o)&&p(e,"class",t[2])},i(t){$||(O(y,t),$=!0)},o(t){R(y,t),$=!1},d(t){t&&u(e),y&&y.d(t),v()}}}function M(t,e,n){let{caption:o}=e,{callback:r=null}=e,{className:c="footer-item"}=e,{icon:a}=e,{$$slots:s={},$$scope:l}=e;return t.$set=t=>{"caption"in t&&n(0,o=t.caption),"callback"in t&&n(1,r=t.callback),"className"in t&&n(2,c=t.className),"icon"in t&&n(3,a=t.icon),"$$scope"in t&&n(4,l=t.$$scope)},[o,r,c,a,l,s]}class z extends D{constructor(t){super(),q(this,t,M,P,c,{caption:0,callback:1,className:2,icon:3})}}const G=[];function H(e,n=t){let o;const r=[];function a(t){if(c(e,t)&&(e=t,o)){const t=!G.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),G.push(n,e)}if(t){for(let t=0;t<G.length;t+=2)G[t][0](G[t+1]);G.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(c,s=t){const l=[c,s];return r.push(l),1===r.length&&(o=n(a)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}let J=H(!1),K=H("default"),Q=H(""),V=H("");function W(e){let n;const o=new z({props:{callback:X,caption:"Clear",icon:"fa fa-eraser"}});return{c(){B(o.$$.fragment)},m(t,e){F(o,t,e),n=!0},p:t,i(t){n||(O(o.$$.fragment,t),n=!0)},o(t){R(o.$$.fragment,t),n=!1},d(t){T(o,t)}}}function X(){window.confirm("Delete all content from the editor?")&&(localStorage.removeItem("content"),sessionStorage.removeItem("documentName"),Q.set(""),V.set(""))}localStorage.getItem("theme")&&K.set(localStorage.getItem("theme")),localStorage.getItem("content")&&Q.set(localStorage.getItem("content")),sessionStorage.getItem("documentName")&&V.set(sessionStorage.getItem("documentName")),K.subscribe(t=>{console.log(t),t||(t="default");let e=`/themes/${t}.css`;fetch(e).then(t=>{let n=t.ok?e:"/themes/default.css";document.getElementById("stylesheet").href=n})});class Y extends D{constructor(t){super(),q(this,t,null,W,c,{})}}function Z(e){let n;const o=new z({props:{callback:e[3],caption:"Export",icon:"fa fa-download"}});return{c(){B(o.$$.fragment)},m(t,e){F(o,t,e),n=!0},p:t,i(t){n||(O(o.$$.fragment,t),n=!0)},o(t){R(o.$$.fragment,t),n=!1},d(t){T(o,t)}}}function tt(t,e,n){let o,r;function c(){if(Q&&o){V&&r||V.set(o.slice(0,10));var t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([Q],{type:"text/plain"})),t.download=r,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}a(t,Q,t=>n(1,o=t)),a(t,V,t=>n(2,r=t));return[c,o,r,()=>c()]}class et extends D{constructor(t){super(),q(this,t,tt,Z,c,{})}}function nt(e){let n,o;return{c(){n=f("input"),p(n,"id","file-input"),p(n,"type","file"),p(n,"name","name"),h(n,"display","none")},m(t,r){i(t,n,r),o=g(n,"change",e[1])},p:t,d(t){t&&u(n),o()}}}function ot(t){let e;const n=new z({props:{callback:t[0],caption:"Open",icon:"fa fa-upload",$$slots:{default:[nt]},$$scope:{ctx:t}}});return{c(){B(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,[e]){const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){R(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function rt(t){return[()=>{document.getElementById("file-input").click()},t=>function(t){const e=t.target.files[0],n=new FileReader;n.addEventListener("load",()=>{localStorage.setItem("content",event.target.result),sessionStorage.setItem("documentName",e.name),Q.set(event.target.result),V.set(e.name)}),n.readAsText(e)}(t)]}class ct extends D{constructor(t){super(),q(this,t,rt,ot,c,{})}}function at(e){let n;const o=new z({props:{caption:"",icon:"fa fa-compress-arrows-alt",callback:st}});return{c(){B(o.$$.fragment)},m(t,e){F(o,t,e),n=!0},p:t,i(t){n||(O(o.$$.fragment,t),n=!0)},o(t){R(o.$$.fragment,t),n=!1},d(t){T(o,t)}}}function st(){document.fullscreenElement?(document.exitFullscreen(),J.set(!1)):(document.documentElement.requestFullscreen(),J.set(!0))}class lt extends D{constructor(t){super(),q(this,t,null,at,c,{})}}const it=["default","oasis","oldschool","saturday","simple","sunday","narrow","vscode","vault76"];function ut(t,e,n){const o=t.slice();return o[2]=e[n],o}function ft(e){let n,o,r,c=e[2]+"";return{c(){n=f("option"),o=d(c),n.__value=r=e[2],n.value=n.__value},m(t,e){i(t,n,e),l(n,o)},p:t,d(t){t&&u(n)}}}function dt(t){let e,n,r=it,c=[];for(let e=0;e<r.length;e+=1)c[e]=ft(ut(t,r,e));return{c(){e=f("select");for(let t=0;t<c.length;t+=1)c[t].c();p(e,"id","themeSelector"),h(e,"cursor","pointer"),void 0===t[0]&&L(()=>t[1].call(e))},m(o,r){i(o,e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);v(e,t[0]),n=[g(e,"change",gt),g(e,"change",t[1])]},p(t,n){if(0&n){let o;for(r=it,o=0;o<r.length;o+=1){const a=ut(t,r,o);c[o]?c[o].p(a,n):(c[o]=ft(a),c[o].c(),c[o].m(e,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=r.length}1&n&&v(e,t[0])},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),o(n)}}}function mt(t){let e;const n=new z({props:{caption:"",icon:"fa fa-palette",$$slots:{default:[dt]},$$scope:{ctx:t}}});return{c(){B(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,[e]){const o={};33&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){R(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function gt(t){const e=t.target.value;localStorage.setItem("theme",e),K.set(e)}function pt(t,e,n){let o;return a(t,K,t=>n(0,o=t)),[o,function(){o=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),K.set(o)}]}class $t extends D{constructor(t){super(),q(this,t,pt,mt,c,{})}}var ht="1.0.3",vt={type:"git",url:"git://github.com/ajboni/txtdit.git",repo_url:"https://github.com/ajboni/txtdit"};function bt(e){let n,o,r,c,a,s,d,g,$;const h=new $t({}),v=new z({props:{caption:ht,icon:"fab fa-github",callback:e[0]}}),b=new Y({}),y=new ct({}),x=new et({}),w=new lt({});return{c(){n=f("div"),B(h.$$.fragment),o=m(),r=f("div"),B(v.$$.fragment),c=m(),a=f("div"),B(b.$$.fragment),s=m(),B(y.$$.fragment),d=m(),B(x.$$.fragment),g=m(),B(w.$$.fragment),p(n,"class","footer-item-container"),p(r,"class","footer-middle"),p(a,"class","footer-item-container")},m(t,e){i(t,n,e),F(h,n,null),i(t,o,e),i(t,r,e),F(v,r,null),i(t,c,e),i(t,a,e),F(b,a,null),l(a,s),F(y,a,null),l(a,d),F(x,a,null),l(a,g),F(w,a,null),$=!0},p:t,i(t){$||(O(h.$$.fragment,t),O(v.$$.fragment,t),O(b.$$.fragment,t),O(y.$$.fragment,t),O(x.$$.fragment,t),O(w.$$.fragment,t),$=!0)},o(t){R(h.$$.fragment,t),R(v.$$.fragment,t),R(b.$$.fragment,t),R(y.$$.fragment,t),R(x.$$.fragment,t),R(w.$$.fragment,t),$=!1},d(t){t&&u(n),T(h),t&&u(o),t&&u(r),T(v),t&&u(c),t&&u(a),T(b),T(y),T(x),T(w)}}}function yt(t){return[()=>window.open(vt.repo_url,"_blank")]}class xt extends D{constructor(t){super(),q(this,t,yt,bt,c,{})}}function wt(t){return x(()=>{let t=document.getElementById("main");function e(t){t.preventDefault(),t.stopPropagation()}function n(e){t.classList.add("highlight")}function o(e){t.classList.remove("highlight")}function r(t){localStorage.setItem("content",t.target.result),Q.set(t.target.result)}["dragenter","dragover","dragleave","drop"].forEach(n=>{t.addEventListener(n,e,!1)}),["dragenter","dragover"].forEach(e=>{t.addEventListener(e,n,!1)}),["dragleave","drop"].forEach(e=>{t.addEventListener(e,o,!1)}),t.addEventListener("drop",(function(t){let e=t.dataTransfer.files[0];localStorage.setItem("documentName",e.name),V.set(e.name),console.log(e.name);window.URL.createObjectURL(e);const n=new FileReader;n.addEventListener("load",r),n.readAsText(e)}),!1)}),[]}class _t extends D{constructor(t){super(),q(this,t,wt,null,c,{})}}function Et(t){let e,n,r,c,a;const s=new _t({});return{c(){e=f("div"),n=f("textarea"),r=m(),B(s.$$.fragment),p(n,"name","editor"),p(n,"id","editor"),p(n,"cols","30"),p(n,"rows","10"),p(e,"class","editor-text-container")},m(o,u){i(o,e,u),l(e,n),$(n,t[0]),l(e,r),F(s,e,null),c=!0,a=[g(n,"input",t[1]),g(n,"keydown",St),g(n,"keyup",kt)]},p(t,[e]){1&e&&$(n,t[0])},i(t){c||(O(s.$$.fragment,t),c=!0)},o(t){R(s.$$.fragment,t),c=!1},d(t){t&&u(e),T(s),o(a)}}}function kt(t){localStorage.setItem("content",t.target.value)}function St(t){if(9==t.keyCode||9==t.which){t.preventDefault();var e=this.selectionStart;this.value=this.value.substring(0,this.selectionStart)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=e+1}}function It(t,e,n){let o;return a(t,Q,t=>n(0,o=t)),[o,function(){o=this.value,Q.set(o)}]}class Lt extends D{constructor(t){super(),q(this,t,It,Et,c,{})}}function Nt(e){let n,o,r,c,a;const s=new Lt({}),d=new xt({});return{c(){n=f("main"),o=f("div"),B(s.$$.fragment),r=m(),c=f("div"),B(d.$$.fragment),p(o,"class","editor-container"),p(c,"class","footer-container"),p(n,"id","main")},m(t,e){i(t,n,e),l(n,o),F(s,o,null),l(n,r),l(n,c),F(d,c,null),a=!0},p:t,i(t){a||(O(s.$$.fragment,t),O(d.$$.fragment,t),a=!0)},o(t){R(s.$$.fragment,t),R(d.$$.fragment,t),a=!1},d(t){t&&u(n),T(s),T(d)}}}return new class extends D{constructor(t){super(),q(this,t,null,Nt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
