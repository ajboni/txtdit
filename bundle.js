var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){(null!=e||t.value)&&(t.value=e)}function h(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function v(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let b;function y(t){b=t}function x(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const w=[],_=[],E=[],k=[],S=Promise.resolve();let I=!1;function L(t){E.push(t)}let N=!1;const j=new Set;function A(){if(!N){N=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];y(e),C(e.$$)}for(w.length=0;_.length;)_.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];j.has(e)||(j.add(e),e())}E.length=0}while(w.length);for(;k.length;)k.pop()();I=!1,N=!1,j.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const O=new Set;function R(t,e){t&&t.i&&(O.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(O.has(t))return;O.add(t),(void 0).c.push(()=>{O.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function F(t){t&&t.c()}function T(t,n,c){const{fragment:a,on_mount:s,on_destroy:l,after_update:i}=t.$$;a&&a.m(n,c),L(()=>{const n=s.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(L)}function U(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(w.push(t),I||(I=!0,S.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,r,c,a,s,l,i=[-1]){const u=b;y(e);const f=r.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:i};let m=!1;d.ctx=c?c(e,f,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),m&&q(e,t)),n}):[],d.update(),m=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),r.target&&(r.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):d.fragment&&d.fragment.c(),r.intro&&R(e.$$.fragment),T(e,r.target,r.anchor),A()),y(u)}class P{$destroy(){U(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function M(t){let e,n,o,c,a,$,v,b;const y=t[5].default,x=function(t,e,n,o){if(t){const r=s(t,e,n,o);return t[0](r)}}(y,t,t[4],null);return{c(){e=f("div"),n=f("i"),o=m(),c=f("span"),a=d(t[0]),$=m(),x&&x.c(),g(n,"class",t[3]),h(c,"padding","0px 0px 0px 5px"),h(c,"top","auto"),h(c,"bottom","auto"),g(e,"class",t[2])},m(s,u){i(s,e,u),l(e,n),l(e,o),l(e,c),l(c,a),l(e,$),x&&x.m(e,null),v=!0,b=p(e,"click",(function(){r(t[1])&&t[1].apply(this,arguments)}))},p(o,[r]){t=o,(!v||8&r)&&g(n,"class",t[3]),(!v||1&r)&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(a,t[0]),x&&x.p&&16&r&&x.p(s(y,t,t[4],null),function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(y,t[4],r,null)),(!v||4&r)&&g(e,"class",t[2])},i(t){v||(R(x,t),v=!0)},o(t){B(x,t),v=!1},d(t){t&&u(e),x&&x.d(t),b()}}}function z(t,e,n){let{caption:o}=e,{callback:r=null}=e,{className:c="footer-item"}=e,{icon:a}=e,{$$slots:s={},$$scope:l}=e;return t.$set=t=>{"caption"in t&&n(0,o=t.caption),"callback"in t&&n(1,r=t.callback),"className"in t&&n(2,c=t.className),"icon"in t&&n(3,a=t.icon),"$$scope"in t&&n(4,l=t.$$scope)},[o,r,c,a,l,s]}class G extends P{constructor(t){super(),D(this,t,z,M,c,{caption:0,callback:1,className:2,icon:3})}}const H=[];function J(e,n=t){let o;const r=[];function a(t){if(c(e,t)&&(e=t,o)){const t=!H.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),H.push(n,e)}if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(c,s=t){const l=[c,s];return r.push(l),1===r.length&&(o=n(a)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}let K=J(!1),Q=J("default"),V=J(""),W=J("");function X(e){let n;const o=new G({props:{callback:Y,caption:"Clear",icon:"fa fa-eraser"}});return{c(){F(o.$$.fragment)},m(t,e){T(o,t,e),n=!0},p:t,i(t){n||(R(o.$$.fragment,t),n=!0)},o(t){B(o.$$.fragment,t),n=!1},d(t){U(o,t)}}}function Y(){window.confirm("Delete all content from the editor?")&&(localStorage.removeItem("content"),sessionStorage.removeItem("documentName"),V.set(""),W.set(""))}localStorage.getItem("theme")&&Q.set(localStorage.getItem("theme")),localStorage.getItem("content")&&V.set(localStorage.getItem("content")),sessionStorage.getItem("documentName")&&W.set(sessionStorage.getItem("documentName")),Q.subscribe(t=>{console.log(t),t||(t="default");let e=`/themes/${t}.css`;fetch(e).then(t=>{let n=t.ok?e:"/themes/default.css";document.getElementById("stylesheet").href=n})});class Z extends P{constructor(t){super(),D(this,t,null,X,c,{})}}function tt(e){let n;const o=new G({props:{callback:e[3],caption:"Export",icon:"fa fa-download"}});return{c(){F(o.$$.fragment)},m(t,e){T(o,t,e),n=!0},p:t,i(t){n||(R(o.$$.fragment,t),n=!0)},o(t){B(o.$$.fragment,t),n=!1},d(t){U(o,t)}}}function et(t,e,n){let o,r;function c(){if(V&&o){W&&r||W.set(o.slice(0,10));var t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([o],{type:"text/plain"})),t.download=r,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}a(t,V,t=>n(1,o=t)),a(t,W,t=>n(2,r=t));return[c,o,r,()=>c()]}class nt extends P{constructor(t){super(),D(this,t,et,tt,c,{})}}function ot(e){let n,o;return{c(){n=f("input"),g(n,"id","file-input"),g(n,"type","file"),g(n,"name","name"),h(n,"display","none")},m(t,r){i(t,n,r),o=p(n,"change",e[0])},p:t,d(t){t&&u(n),o()}}}function rt(t){let e;const n=new G({props:{callback:t[1],caption:"Open",icon:"fa fa-upload",$$slots:{default:[ot]},$$scope:{ctx:t}}});return{c(){F(n.$$.fragment)},m(t,o){T(n,t,o),e=!0},p(t,[e]){const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(R(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function ct(t){return[t=>function(t){const e=t.target.files[0],n=new FileReader;n.addEventListener("load",()=>{localStorage.setItem("content",event.target.result),sessionStorage.setItem("documentName",e.name),V.set(event.target.result),W.set(e.name)}),n.readAsText(e)}(t),()=>{document.getElementById("file-input").click()}]}class at extends P{constructor(t){super(),D(this,t,ct,rt,c,{})}}function st(e){let n;const o=new G({props:{caption:"",icon:"fa fa-compress-arrows-alt",callback:lt}});return{c(){F(o.$$.fragment)},m(t,e){T(o,t,e),n=!0},p:t,i(t){n||(R(o.$$.fragment,t),n=!0)},o(t){B(o.$$.fragment,t),n=!1},d(t){U(o,t)}}}function lt(){document.fullscreenElement?(document.exitFullscreen(),K.set(!1)):(document.documentElement.requestFullscreen(),K.set(!0))}class it extends P{constructor(t){super(),D(this,t,null,st,c,{})}}const ut=["default","oasis","oldschool","saturday","simple","sunday","narrow","vscode","vault76"];function ft(t,e,n){const o=t.slice();return o[2]=e[n],o}function dt(e){let n,o,r,c=e[2]+"";return{c(){n=f("option"),o=d(c),n.__value=r=e[2],n.value=n.__value},m(t,e){i(t,n,e),l(n,o)},p:t,d(t){t&&u(n)}}}function mt(t){let e,n,r=ut,c=[];for(let e=0;e<r.length;e+=1)c[e]=dt(ft(t,r,e));return{c(){e=f("select");for(let t=0;t<c.length;t+=1)c[t].c();g(e,"id","themeSelector"),h(e,"cursor","pointer"),void 0===t[0]&&L(()=>t[1].call(e))},m(o,r){i(o,e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);v(e,t[0]),n=[p(e,"change",gt),p(e,"change",t[1])]},p(t,n){if(0&n){let o;for(r=ut,o=0;o<r.length;o+=1){const a=ft(t,r,o);c[o]?c[o].p(a,n):(c[o]=dt(a),c[o].c(),c[o].m(e,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=r.length}1&n&&v(e,t[0])},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),o(n)}}}function pt(t){let e;const n=new G({props:{caption:"",icon:"fa fa-palette",$$slots:{default:[mt]},$$scope:{ctx:t}}});return{c(){F(n.$$.fragment)},m(t,o){T(n,t,o),e=!0},p(t,[e]){const o={};33&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(R(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function gt(t){const e=t.target.value;localStorage.setItem("theme",e),Q.set(e)}function $t(t,e,n){let o;return a(t,Q,t=>n(0,o=t)),[o,function(){o=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),Q.set(o)}]}class ht extends P{constructor(t){super(),D(this,t,$t,pt,c,{})}}var vt="1.0.6",bt={type:"git",url:"git://github.com/ajboni/txtdit.git",repo_url:"https://github.com/ajboni/txtdit"};function yt(e){let n,o,r,c,a,s,d,p,$;const h=new ht({}),v=new G({props:{caption:vt,icon:"fab fa-github",callback:e[0]}}),b=new Z({}),y=new at({}),x=new nt({}),w=new it({});return{c(){n=f("div"),F(h.$$.fragment),o=m(),r=f("div"),F(v.$$.fragment),c=m(),a=f("div"),F(b.$$.fragment),s=m(),F(y.$$.fragment),d=m(),F(x.$$.fragment),p=m(),F(w.$$.fragment),g(n,"class","footer-item-container"),g(r,"class","footer-middle"),g(r,"id","footer-middle"),g(a,"class","footer-item-container")},m(t,e){i(t,n,e),T(h,n,null),i(t,o,e),i(t,r,e),T(v,r,null),i(t,c,e),i(t,a,e),T(b,a,null),l(a,s),T(y,a,null),l(a,d),T(x,a,null),l(a,p),T(w,a,null),$=!0},p:t,i(t){$||(R(h.$$.fragment,t),R(v.$$.fragment,t),R(b.$$.fragment,t),R(y.$$.fragment,t),R(x.$$.fragment,t),R(w.$$.fragment,t),$=!0)},o(t){B(h.$$.fragment,t),B(v.$$.fragment,t),B(b.$$.fragment,t),B(y.$$.fragment,t),B(x.$$.fragment,t),B(w.$$.fragment,t),$=!1},d(t){t&&u(n),U(h),t&&u(o),t&&u(r),U(v),t&&u(c),t&&u(a),U(b),U(y),U(x),U(w)}}}function xt(t){return[()=>window.open(bt.repo_url,"_blank")]}class wt extends P{constructor(t){super(),D(this,t,xt,yt,c,{})}}function _t(t){return x(()=>{let t=document.getElementById("main");function e(t){t.preventDefault(),t.stopPropagation()}function n(e){t.classList.add("highlight")}function o(e){t.classList.remove("highlight")}function r(t){localStorage.setItem("content",t.target.result),V.set(t.target.result)}["dragenter","dragover","dragleave","drop"].forEach(n=>{t.addEventListener(n,e,!1)}),["dragenter","dragover"].forEach(e=>{t.addEventListener(e,n,!1)}),["dragleave","drop"].forEach(e=>{t.addEventListener(e,o,!1)}),t.addEventListener("drop",(function(t){let e=t.dataTransfer.files[0];localStorage.setItem("documentName",e.name),W.set(e.name),console.log(e.name);window.URL.createObjectURL(e);const n=new FileReader;n.addEventListener("load",r),n.readAsText(e)}),!1)}),[]}class Et extends P{constructor(t){super(),D(this,t,_t,null,c,{})}}function kt(t){let e,n,r,c,a;const s=new Et({});return{c(){e=f("div"),n=f("textarea"),r=m(),F(s.$$.fragment),g(n,"name","editor"),g(n,"id","editor"),g(n,"cols","30"),g(n,"rows","2"),g(e,"class","editor-text-container")},m(o,u){i(o,e,u),l(e,n),$(n,t[0]),l(e,r),T(s,e,null),c=!0,a=[p(n,"input",t[1]),p(n,"keydown",It),p(n,"keyup",St)]},p(t,[e]){1&e&&$(n,t[0])},i(t){c||(R(s.$$.fragment,t),c=!0)},o(t){B(s.$$.fragment,t),c=!1},d(t){t&&u(e),U(s),o(a)}}}function St(t){localStorage.setItem("content",t.target.value)}function It(t){if(9==t.keyCode||9==t.which){t.preventDefault();var e=this.selectionStart;this.value=this.value.substring(0,this.selectionStart)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=e+1}}function Lt(t,e,n){let o;return a(t,V,t=>n(0,o=t)),[o,function(){o=this.value,V.set(o)}]}class Nt extends P{constructor(t){super(),D(this,t,Lt,kt,c,{})}}function jt(e){let n,o,r,c,a;const s=new Nt({}),d=new wt({});return{c(){n=f("main"),o=f("div"),F(s.$$.fragment),r=m(),c=f("div"),F(d.$$.fragment),g(o,"class","editor-container"),g(c,"class","footer-container"),g(n,"id","main")},m(t,e){i(t,n,e),l(n,o),T(s,o,null),l(n,r),l(n,c),T(d,c,null),a=!0},p:t,i(t){a||(R(s.$$.fragment,t),R(d.$$.fragment,t),a=!0)},o(t){B(s.$$.fragment,t),B(d.$$.fragment,t),a=!1},d(t){t&&u(n),U(s),U(d)}}}return new class extends P{constructor(t){super(),D(this,t,null,jt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
